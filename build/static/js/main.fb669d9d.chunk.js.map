{"version":3,"sources":["components/checkout-page/CheckoutPage.module.css","utils/constants.js","components/form/FormItem.module.css","components/checkout-page/OrderItem.module.css","components/checkout-page/forms/DeliveryAddress.module.css","components/product-page/ProductPage.module.css","components/checkout-page/ReviewOrderWidget.module.css","components/checkout-page/CartContext.js","components/product-card/ProductCard.js","utils/HttpHelper.js","components/product-page/ProductPageService.js","components/product-page/ProductPage.js","components/checkout-page/ReviewOrderWidgetService.js","components/checkout-page/OrderItem.js","components/checkout-page/ReviewOrderWidget.js","components/form/FormItem.js","components/form/FormItemDropdown.js","components/checkout-page/forms/DeliveryAddress.js","components/checkout-page/forms/BillingDetails.js","components/checkout-page/CheckoutService.js","components/checkout-page/CheckoutPage.js","components/confirmation-page/ConfirmationPage.js","components/header/HeaderService.js","components/header/Header.js","components/app/App.js","index.js"],"names":["module","exports","Object","freeze","API_ERROR","BASE_URL_API","PLACEHOLDER_IMAGE","PURCHASE_ENDPOINT","RUNNING_SHORTS_ENDPOINT","GOOGLE_CLIENT_ID","CartContext","React","createContext","cartReducer","state","action","type","products","filter","product","title","Error","CartProvider","children","useReducer","id","price","description","quantity","setProducts","value","dispatch","Provider","useCart","context","useContext","undefined","useStyles","makeStyles","theme","root","maxWidth","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","ProductCard","classes","Card","className","CardHeader","Avatar","aria-label","demographic","charAt","IconButton","name","subheader","category","CardMedia","image","Constants","CardContent","Typography","variant","color","component","CardActions","disableSpacing","onClick","route","method","payload","fetch","headers","Authorization","sessionStorage","getItem","body","JSON","stringify","setApiError","a","HttpHelper","then","response","ok","json","catch","ProductPage","useState","apiError","useEffect","fetchProducts","styles","errMsg","data-testid","app","map","toPrice","toFixed","getSubtotal","length","reduce","acc","item","OrderItem","orderItem","itemTitle","ReviewOrderWidget","subtotal","FormItem","onChange","label","placeholder","htmlFor","input","FormItemDropdown","options","onBlur","optionText","DeliveryAddress","deliveryData","deliveryAddress","firstName","lastName","street","street2","city","zip","BillingDetails","billingData","useShippingForBilling","billingStreet","billingStreet2","billingCity","billingState","billingZip","email","phone","creditCard","cvv","expiration","cardholder","billingAddress","console","log","CheckoutPage","history","useHistory","setBillingData","setDeliveryData","checked","setChecked","checkoutContainer","step","order","delivery","e","target","sameAddressText","useSameAddress","payment","payNow","productData","makePurchase","cardNumber","push","payButton","getUserByEmail","setUser","status","userByEmailExists","statusText","document","cookie","createUser","user","loginUser","googleUser","Header","googleError","setGoogleError","to","clientId","constants","buttonText","onLogoutSuccess","onFailure","onSuccess","setItem","getAuthResponse","id_token","profileObj","givenName","familyName","cookiePolicy","App","exact","path","render","ConfirmationPage","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fb669d9d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkoutContainer\":\"CheckoutPage_checkoutContainer__2eXtf\",\"delivery\":\"CheckoutPage_delivery__2eMIN\",\"order\":\"CheckoutPage_order__2EzSS\",\"payment\":\"CheckoutPage_payment__3BQkf\",\"payNow\":\"CheckoutPage_payNow__zyEAs\",\"payButton\":\"CheckoutPage_payButton__3cODN\",\"step\":\"CheckoutPage_step__3lfHf\",\"summary\":\"CheckoutPage_summary__4_2S0\",\"title\":\"CheckoutPage_title__2ot21\",\"useSameAddress\":\"CheckoutPage_useSameAddress__2CeXM\",\"sameAddressText\":\"CheckoutPage_sameAddressText__1l_Yb\"};","module.exports = Object.freeze({\r\n  API_ERROR: 'Oops, something went wrong',\r\n  BASE_URL_API: 'http://localhost:8085',\r\n  PLACEHOLDER_IMAGE: 'https://www.signfix.com.au/wp-content/uploads/2017/09/placeholder-600x400.png',\r\n  PURCHASE_ENDPOINT: '/purchases',\r\n  RUNNING_SHORTS_ENDPOINT: '/products?category=Running&type=Short',\r\n  GOOGLE_CLIENT_ID: '912899852587-7996nh9mlpvpa2446q0il4f9hj5o492h.apps.googleusercontent.com' // ENTER CLIENT ID HERE\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"FormItem_input__3I-UJ\",\"label\":\"FormItem_label__1vhi2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderItem\":\"OrderItem_orderItem__XUEOr\",\"itemTitle\":\"OrderItem_itemTitle__1MeBp\",\"price\":\"OrderItem_price__1bXv_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deliveryAddress\":\"DeliveryAddress_deliveryAddress__mJ0kq\",\"label\":\"DeliveryAddress_label__2uf1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"ProductPage_app__2NUSV\",\"errMsg\":\"ProductPage_errMsg__2GGf9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subtotal\":\"ReviewOrderWidget_subtotal__2l-jQ\",\"price\":\"ReviewOrderWidget_price__2S0Ya\"};","import React from 'react';\r\n\r\nconst CartContext = React.createContext();\r\n\r\nfunction cartReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'delete': {\r\n      return {\r\n        ...state,\r\n        products: state.products.filter((product) => product.title !== action.product.title)\r\n      };\r\n    }\r\n    case 'add': {\r\n      return {\r\n        ...state,\r\n        products: [...state.products, action.product]\r\n      };\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction CartProvider({ children }) {\r\n  const initialProducts = {\r\n    products: [\r\n      {\r\n        id: null,\r\n        title: 'Sport Shoes',\r\n        price: 49.99,\r\n        description: 'Sporty shoes for sporty people',\r\n        quantity: 2\r\n      },\r\n      {\r\n        id: null,\r\n        title: 'Sport Shorts',\r\n        price: 39.99,\r\n        description: 'Sporty shorts for sporty people',\r\n        quantity: 5\r\n      }\r\n    ],\r\n    setProducts: () => { }\r\n  };\r\n  const [state, dispatch] = React.useReducer(cartReducer, initialProducts);\r\n\r\n  const value = { state, dispatch };\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useCart() {\r\n  const context = React.useContext(CartContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCartDispatch must be used within a CartProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { CartProvider, useCart };\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport Constants from '../../utils/constants';\r\nimport { useCart } from '../checkout-page/CartContext';\r\n\r\n/**\r\n * @name useStyles\r\n * @description Material-ui styling for ProductCard component\r\n * @return styling\r\n */\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 345\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%'\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest\r\n    })\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)'\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500]\r\n  }\r\n}));\r\n\r\n/**\r\n * @name ProductCard\r\n * @description displays single product card component\r\n * @param {*} props product\r\n * @return component\r\n */\r\nconst ProductCard = ({ product }) => {\r\n  const classes = useStyles();\r\n\r\n  const { dispatch } = useCart();\r\n\r\n  const onAdd = () => {\r\n    dispatch(\r\n      {\r\n        type: 'add',\r\n        product: {\r\n          id: product.id,\r\n          title: product.name,\r\n          price: product.price,\r\n          description: product.description,\r\n          quantity: 1\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardHeader\r\n        avatar={(\r\n          <Avatar aria-label=\"demographics\" className={classes.avatar}>\r\n            {product.demographic.charAt(0)}\r\n          </Avatar>\r\n        )}\r\n        action={(\r\n          <IconButton aria-label=\"settings\">\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        )}\r\n        title={product.name}\r\n        subheader={`${product.demographic} ${product.category} ${product.type}`}\r\n      />\r\n      <CardMedia\r\n        className={classes.media}\r\n        image={Constants.PLACEHOLDER_IMAGE}\r\n        title=\"placeholder\"\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {product.description}\r\n        </Typography>\r\n        <br />\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          Price: $\r\n          {product.price}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"add to shopping cart\" onClick={onAdd}>\r\n          <AddShoppingCartIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","import Constants from './constants';\r\n\r\n/**\r\n * @name HttpHelper\r\n * @description - Utility method for using fetch in a convenient manner\r\n * @param {string} route address to ping\r\n * @param {string} method http method\r\n * @param {Object} payload object to send\r\n * @return {Promise} - Promise from the fetch call\r\n */\r\nexport default (route, method, payload) => fetch(Constants.BASE_URL_API + route, {\r\n  method,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    Authorization: `Bearer ${sessionStorage.getItem('token')}`\r\n  },\r\n  body: JSON.stringify(payload)\r\n});\r\n","import HttpHelper from '../../utils/HttpHelper';\r\nimport Constants from '../../utils/constants';\r\n\r\n/**\r\n *\r\n * @name fetchProducts\r\n * @description Utilizes HttpHelper to make a get request to an API\r\n * @param {*} setProducts sets state for products\r\n * @param {*} setApiError sets error if response other than 200 is returned\r\n * @returns sets state for products if 200 response, else sets state for apiError\r\n */\r\nexport default async function fetchProducts(setProducts, setApiError) {\r\n  await HttpHelper(Constants.RUNNING_SHORTS_ENDPOINT, 'GET')\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(Constants.API_ERROR);\r\n    })\r\n    .then(setProducts)\r\n    .catch(() => {\r\n      setApiError(true);\r\n    });\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport ProductCard from '../product-card/ProductCard';\r\nimport styles from './ProductPage.module.css';\r\nimport Constants from '../../utils/constants';\r\nimport fetchProducts from './ProductPageService';\r\n\r\n/**\r\n * @name ProductPage\r\n * @description fetches products from API and displays products as product cards\r\n * @return component\r\n */\r\nconst ProductPage = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [apiError, setApiError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProducts(setProducts, setApiError);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {apiError && <p className={styles.errMsg} data-testid=\"errMsg\">{Constants.API_ERROR}</p>}\r\n      <div className={styles.app}>\r\n        {products.map((product) => (\r\n          <div key={product.id}>\r\n            <ProductCard product={product} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","/**\r\n * converts a price to a formatted string\r\n * @param {number} price\r\n * @returns {string} formatted price\r\n */\r\nexport const toPrice = (price) => `$${price.toFixed(2)}`;\r\n\r\n/**\r\n * Gets the subtotal of an order\r\n * @param {Object []} products\r\n * @returns Number\r\n */\r\nexport const getSubtotal = (products) => {\r\n  if (products.length) {\r\n    return toPrice(products.reduce(\r\n      (acc, item) => acc + (item.quantity * item.price), 0\r\n    ));\r\n  }\r\n  throw new Error('No products found');\r\n};\r\n","import React from 'react';\r\nimport styles from './OrderItem.module.css';\r\nimport { toPrice } from './ReviewOrderWidgetService';\r\n\r\n/**\r\n * @name OrderItem\r\n * @description Displays an order row\r\n * @return component\r\n */\r\nconst OrderItem = ({\r\n  price, title, description, quantity\r\n}) => (\r\n  <div className={styles.orderItem}>\r\n    <div className={styles.image}>\r\n      IMAGE HERE\r\n    </div>\r\n    <div className={styles.item}>\r\n      <p className={styles.itemTitle}>{title}</p>\r\n      <p>{description}</p>\r\n      <p>{`Qty: ${quantity}`}</p>\r\n    </div>\r\n    <div className={styles.price}>\r\n      <p>{toPrice(quantity * price)}</p>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default OrderItem;\r\n","import React from 'react';\r\nimport { useCart } from './CartContext';\r\nimport OrderItem from './OrderItem';\r\nimport { getSubtotal } from './ReviewOrderWidgetService';\r\nimport styles from './ReviewOrderWidget.module.css';\r\n\r\n/**\r\n * @name ReviewOrderWidget\r\n * @description Displays order items and subtotal\r\n * @return component\r\n */\r\nconst ReviewOrderWidget = () => {\r\n  const {\r\n    state: { products }\r\n  } = useCart();\r\n  return (\r\n    <>\r\n      {products.map(({\r\n        price, title, description, quantity\r\n      }) => (\r\n        <OrderItem\r\n          key={title}\r\n          price={price}\r\n          title={title}\r\n          description={description}\r\n          quantity={quantity}\r\n        />\r\n      ))}\r\n      <hr />\r\n      <div className={styles.subtotal}>\r\n        <div>\r\n          <p>Subtotal</p>\r\n        </div>\r\n        <div className={styles.price}>\r\n          <p>{getSubtotal(products)}</p>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReviewOrderWidget;\r\n","import React from 'react';\r\nimport styles from './FormItem.module.css';\r\n\r\n/**\r\n * @name FormItem\r\n * @description Input field\r\n * @return component\r\n */\r\nconst FormItem = ({\r\n  onChange, value, id, label, placeholder, type\r\n}) => (\r\n\r\n  <div>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n      <div>\r\n        <input\r\n          className={styles.input}\r\n          id={id}\r\n          onChange={onChange}\r\n          placeholder={placeholder}\r\n          type={type}\r\n          value={value}\r\n        />\r\n      </div>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default FormItem;\r\n","import React from 'react';\r\nimport styles from './FormItem.module.css';\r\n\r\n/**\r\n * @name FormItemDropdown\r\n * @description Input field\r\n * @return component\r\n */\r\nconst FormItemDropdown = ({\r\n  onChange, value, id, label, options\r\n}) => (\r\n\r\n  <div>\r\n    <label className={styles.label} htmlFor={id}>\r\n      {label}\r\n      <div>\r\n        <select\r\n          className={styles.input}\r\n          id={id}\r\n          onBlur={onChange}\r\n          value={value}\r\n        >\r\n          {options.map((optionText) => (\r\n            <option\r\n              value={optionText}\r\n              key={optionText}\r\n            >\r\n              {optionText}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default FormItemDropdown;\r\n","import React from 'react';\r\nimport FormItem from '../../form/FormItem';\r\nimport FormItemDropdown from '../../form/FormItemDropdown';\r\nimport styles from './DeliveryAddress.module.css';\r\n\r\n/**\r\n * @name DeliveryAddress\r\n * @description Allows entry of delivery address\r\n * @return component\r\n */\r\nconst DeliveryAddress = ({ onChange, deliveryData }) => {\r\n  const usStates = ['Alabama', 'Alaska', 'American Samoa', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'District of Columbia', 'Federated States of Micronesia', 'Florida', 'Georgia', 'Guam', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Marshall Islands', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Northern Mariana Islands', 'Ohio', 'Oklahoma', 'Oregon', 'Palau', 'Pennsylvania', 'Puerto Rico', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virgin Island', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];\r\n\r\n  return (\r\n\r\n    <div className={styles.deliveryAddress}>\r\n      <FormItem\r\n        type=\"text\"\r\n        id=\"firstName\"\r\n        label=\"First Name\"\r\n        onChange={onChange}\r\n        value={deliveryData.firstName}\r\n      />\r\n\r\n      <FormItem\r\n        type=\"text\"\r\n        id=\"lastName\"\r\n        label=\"Last Name\"\r\n        onChange={onChange}\r\n        value={deliveryData.lastName}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 123 Sesame Street\"\r\n        type=\"text\"\r\n        id=\"street\"\r\n        label=\"Street\"\r\n        onChange={onChange}\r\n        value={deliveryData.street}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. Unit #1\"\r\n        type=\"text\"\r\n        id=\"street2\"\r\n        label=\"Street 2 (Optional)\"\r\n        onChange={onChange}\r\n        value={deliveryData.street2}\r\n      />\r\n\r\n      <FormItem\r\n        type=\"text\"\r\n        id=\"city\"\r\n        label=\"City\"\r\n        onChange={onChange}\r\n        value={deliveryData.city}\r\n      />\r\n\r\n      <FormItemDropdown\r\n        id=\"state\"\r\n        label=\"State\"\r\n        onChange={onChange}\r\n        value={deliveryData.state}\r\n        options={usStates}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 12345\"\r\n        type=\"text\"\r\n        id=\"zip\"\r\n        label=\"Zip\"\r\n        onChange={onChange}\r\n        value={deliveryData.zip}\r\n      />\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default DeliveryAddress;\r\n","import React from 'react';\r\nimport FormItem from '../../form/FormItem';\r\nimport FormItemDropdown from '../../form/FormItemDropdown';\r\nimport styles from './DeliveryAddress.module.css';\r\n\r\n/**\r\n * @name BillingDetails\r\n * @description Allows entry of Billing Details\r\n * @return component\r\n */\r\nconst BillingDetails = ({ onChange, billingData, useShippingForBilling }) => {\r\n  const usStates = ['Alabama', 'Alaska', 'American Samoa', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'District of Columbia', 'Federated States of Micronesia', 'Florida', 'Georgia', 'Guam', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky', 'Louisiana', 'Maine', 'Marshall Islands', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico', 'New York', 'North Carolina', 'North Dakota', 'Northern Mariana Islands', 'Ohio', 'Oklahoma', 'Oregon', 'Palau', 'Pennsylvania', 'Puerto Rico', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas', 'Utah', 'Vermont', 'Virgin Island', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'];\r\n\r\n  return (\r\n\r\n    <div className={styles.deliveryAddress}>\r\n      {!useShippingForBilling && (\r\n        <>\r\n\r\n          <FormItem\r\n            placeholder=\"e.g. 123 Sesame Street\"\r\n            type=\"text\"\r\n            id=\"billingStreet\"\r\n            label=\"Street\"\r\n            onChange={onChange}\r\n            value={billingData.billingStreet}\r\n          />\r\n\r\n          <FormItem\r\n            placeholder=\"e.g. Unit #1\"\r\n            type=\"text\"\r\n            id=\"billingStreet2\"\r\n            label=\"Street 2 (Optional)\"\r\n            onChange={onChange}\r\n            value={billingData.billingStreet2}\r\n          />\r\n\r\n          <FormItem\r\n            type=\"text\"\r\n            id=\"billingCity\"\r\n            label=\"City\"\r\n            onChange={onChange}\r\n            value={billingData.billingCity}\r\n          />\r\n\r\n          <FormItemDropdown\r\n            id=\"billingState\"\r\n            label=\"State\"\r\n            onChange={onChange}\r\n            value={billingData.billingState}\r\n            options={usStates}\r\n          />\r\n\r\n          <FormItem\r\n            placeholder=\"e.g. 12345\"\r\n            type=\"text\"\r\n            id=\"billingZip\"\r\n            label=\"Zip\"\r\n            onChange={onChange}\r\n            value={billingData.billingZip}\r\n          />\r\n        </>\r\n      )}\r\n      <FormItem\r\n        placeholder=\"e.g. example@catalyte.io\"\r\n        type=\"email\"\r\n        id=\"email\"\r\n        label=\"Email\"\r\n        onChange={onChange}\r\n        value={billingData.email}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 555-555-5555\"\r\n        type=\"text\"\r\n        id=\"phone\"\r\n        label=\"Phone\"\r\n        onChange={onChange}\r\n        value={billingData.phone}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 1234567812345678\"\r\n        type=\"text\"\r\n        id=\"creditCard\"\r\n        label=\"Credit Card\"\r\n        onChange={onChange}\r\n        value={billingData.creditCard}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 555\"\r\n        type=\"text\"\r\n        id=\"cvv\"\r\n        label=\"CVV\"\r\n        onChange={onChange}\r\n        value={billingData.cvv}\r\n      />\r\n\r\n      <FormItem\r\n        placeholder=\"e.g. 05/21\"\r\n        type=\"text\"\r\n        id=\"expiration\"\r\n        label=\"Expiration\"\r\n        onChange={onChange}\r\n        value={billingData.expiration}\r\n      />\r\n\r\n      <FormItem\r\n        type=\"text\"\r\n        id=\"cardholder\"\r\n        label=\"Cardholder Name\"\r\n        onChange={onChange}\r\n        value={billingData.cardholder}\r\n      />\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default BillingDetails;\r\n","import HttpHelper from '../../utils/HttpHelper';\r\nimport Constants from '../../utils/constants';\r\n\r\n/**\r\n *\r\n * @name makePayment\r\n * @description sends a purchase request\r\n * @param {*} cartContents items to purchase\r\n * @returns payment confirmation response\r\n */\r\nexport default async function makePurchase(products, deliveryAddress, billingAddress, creditCard) {\r\n  await HttpHelper(Constants.PURCHASE_ENDPOINT, 'POST', {\r\n    products,\r\n    deliveryAddress,\r\n    billingAddress,\r\n    creditCard\r\n  })\r\n    .then((response) => response.json())\r\n    .catch(() => {\r\n      /* eslint-disable no-console */\r\n      console.log('Failed to purchase');\r\n      /* eslint-enable no-console */\r\n    });\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useCart } from './CartContext';\r\nimport styles from './CheckoutPage.module.css';\r\nimport ReviewOrderWidget from './ReviewOrderWidget';\r\nimport DeliveryAddress from './forms/DeliveryAddress';\r\nimport BillingDetails from './forms/BillingDetails';\r\nimport makePurchase from './CheckoutService';\r\n\r\n/**\r\n * @name CheckoutPage\r\n * @description A view that contains details needed to process a transaction for items\r\n * @return component\r\n */\r\nconst CheckoutPage = () => {\r\n  const history = useHistory();\r\n\r\n  const {\r\n    state: { products }\r\n  } = useCart();\r\n\r\n  const [billingData, setBillingData] = React.useState({});\r\n\r\n  const onBillingChange = (e) => {\r\n    setBillingData({ ...billingData, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const [deliveryData, setDeliveryData] = React.useState({});\r\n\r\n  const onDeliveryChange = (e) => {\r\n    setDeliveryData({ ...deliveryData, [e.target.id]: e.target.value });\r\n  };\r\n\r\n  const [checked, setChecked] = React.useState(false);\r\n  const handleCheck = () => {\r\n    setChecked(true);\r\n  };\r\n\r\n  const handlePay = () => {\r\n    const productData = products.map(({ id, quantity }) => ({ id, quantity }));\r\n    const deliveryAddress = {\r\n      firstName: deliveryData.firstName,\r\n      lastName: deliveryData.lastName,\r\n      street: deliveryData.street,\r\n      street2: deliveryData.street2,\r\n      city: deliveryData.city,\r\n      state: deliveryData.state,\r\n      zip: deliveryData.zip\r\n    };\r\n    const billingAddress = {};\r\n    if (checked) {\r\n      billingAddress.street = deliveryAddress.street;\r\n      billingAddress.street2 = deliveryAddress.street2;\r\n      billingAddress.city = deliveryAddress.city;\r\n      billingAddress.state = deliveryAddress.state;\r\n      billingAddress.zip = deliveryAddress.zip;\r\n    } else {\r\n      billingAddress.street = billingData.billingStreet;\r\n      billingAddress.street2 = billingData.billingStreet2;\r\n      billingAddress.city = billingData.billingCity;\r\n      billingAddress.state = billingData.billingState;\r\n      billingAddress.zip = billingData.billingZip;\r\n    }\r\n    billingAddress.email = billingData.email;\r\n    billingAddress.phone = billingData.phone;\r\n\r\n    const creditCard = {\r\n      cardNumber: billingData.creditCard,\r\n      cvv: billingData.cvv,\r\n      expiration: billingData.expiration,\r\n      cardholder: billingData.cardholder\r\n    };\r\n    makePurchase(productData, deliveryAddress, billingAddress, creditCard).then(() => history.push('/confirmation'));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.checkoutContainer}>\r\n      <div className={`${styles.step} ${styles.order}`}>\r\n        <h3 className={styles.title}>1. Review Order</h3>\r\n        <ReviewOrderWidget />\r\n      </div>\r\n      <div className={`${styles.step} ${styles.delivery}`}>\r\n        <h3 className={styles.title}>2. Delivery Address</h3>\r\n        <DeliveryAddress onChange={onDeliveryChange} deliveryData={deliveryData} />\r\n        <label htmlFor=\"useSame\" className={styles.sameAddressText}>\r\n          <div className={styles.useSameAddress}>\r\n            <input\r\n              id=\"useSame\"\r\n              onChange={handleCheck}\r\n              type=\"checkbox\"\r\n              value={checked}\r\n            />\r\n          </div>\r\n          Same Billing Address\r\n        </label>\r\n      </div>\r\n      <div className={`${styles.step} ${styles.payment}`}>\r\n        <h3 className={styles.title}>3. Billing Details</h3>\r\n        <BillingDetails\r\n          onChange={onBillingChange}\r\n          billingData={billingData}\r\n          useShippingForBilling={checked}\r\n        />\r\n      </div>\r\n      <div className={styles.payNow}>\r\n        <button onClick={handlePay} type=\"button\" className={styles.payButton}>\r\n          Checkout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n","import React from 'react';\r\n\r\n/**\r\n * @name ProductPage\r\n * @description fetches products from API and displays products as product cards\r\n * @return component\r\n */\r\nconst ProductPage = () => (\r\n  <div>\r\n    Order success!\r\n  </div>\r\n);\r\n\r\nexport default ProductPage;\r\n","import HttpHelper from '../../utils/HttpHelper';\r\n\r\n/**\r\n * @name getUserByEmail\r\n * @description Gets the user by email to see if exists\r\n * @param {String} email Target Email\r\n * @param {Function} setUser Sets the user state\r\n */\r\nconst getUserByEmail = async (email, setUser) => {\r\n  let userByEmailExists;\r\n\r\n  await HttpHelper(`/users/${email}`, 'GET')\r\n    .then((response) => {\r\n      if (response.status === 200) {\r\n        userByEmailExists = true;\r\n        return response.json();\r\n      }\r\n      if (response.status === 404) {\r\n        userByEmailExists = false;\r\n      }\r\n      throw new Error(response.statusText);\r\n    })\r\n    .then((body) => {\r\n      setUser(body);\r\n      document.cookie = `user=${JSON.stringify(body)}`;\r\n    })\r\n    .catch(() => {});\r\n\r\n  return userByEmailExists;\r\n};\r\n\r\n/**\r\n * @name createUser\r\n * @description Posts a user to the backend\r\n * @param {Object} user The user to create\r\n * @param {Function} setUser Sets the user state\r\n * @param {Function} setApiError Sets the API Error state\r\n */\r\nconst createUser = async (user, setUser, setApiError) => {\r\n  await HttpHelper('/users', 'POST', user)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      throw new Error(response.statusText);\r\n    })\r\n    .then((body) => {\r\n      setUser(body);\r\n      document.cookie = `user=${JSON.stringify(body)}`;\r\n    })\r\n    .catch(() => {\r\n      setApiError(true);\r\n    });\r\n};\r\n\r\n/**\r\n * @name loginUser\r\n * @description Sends a login request to the backend and get user information\r\n * @param {Object} googleUser The googleUser object\r\n * @param {Function} setUser Sets the user\r\n * @param {Function} setApiError Sets the Api Error\r\n */\r\nconst loginUser = async (googleUser, setUser, setApiError) => {\r\n  const userByEmailExists = await getUserByEmail(googleUser.email, setUser);\r\n  if (!userByEmailExists) {\r\n    createUser(googleUser, setUser, setApiError);\r\n  }\r\n};\r\n\r\nexport default loginUser;\r\n","import React, { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport GoogleLogin, { GoogleLogout } from 'react-google-login';\r\nimport loginUser from './HeaderService';\r\nimport constants from '../../utils/constants';\r\n\r\n/**\r\n * @name Header\r\n * @description Displays the navigation header\r\n * @return component\r\n */\r\nconst Header = () => {\r\n  const [user, setUser] = useState('');\r\n  const [googleError, setGoogleError] = useState('');\r\n  const [apiError, setApiError] = useState(false);\r\n\r\n  /**\r\n   * @name handleGoogleLoginSuccess\r\n   * @description Function to run if google login was successful\r\n   * @param {Object} response Response object from google\r\n   */\r\n  const handleGoogleLoginSuccess = (response) => {\r\n    sessionStorage.setItem('token', response.getAuthResponse().id_token);\r\n    const googleUser = {\r\n      email: response.profileObj.email,\r\n      firstName: response.profileObj.givenName,\r\n      lastName: response.profileObj.familyName\r\n    };\r\n    loginUser(googleUser, setUser, setApiError);\r\n    setGoogleError('');\r\n  };\r\n\r\n  /**\r\n   * @name handleGoogleLoginSuccess\r\n   * @description Function to run if google login was unsuccessful\r\n   */\r\n  const handleGoogleLoginFailure = () => {\r\n    setGoogleError('There was a problem logging in with Google. Please wait and try again later.');\r\n  };\r\n\r\n  /**\r\n   * @name handleGoogleLogoutSuccess\r\n   * @description Function to run if google logout was successful\r\n   */\r\n  const handleGoogleLogoutSuccess = () => {\r\n    setUser('');\r\n    setGoogleError('');\r\n  };\r\n\r\n  /**\r\n   * @name handleGoogleLogoutFailure\r\n   * @description Function to run if google logout was unsuccessful\r\n   */\r\n  const handleGoogleLogoutFailure = () => {\r\n    setGoogleError('There was a problem logging out with Google. Please wait and try again later.');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/home\">Home</NavLink>\r\n      <NavLink to=\"/checkout\">Cart</NavLink>\r\n      {user && <span>{user.firstName}</span>}\r\n      {user && <span>{user.lastName}</span>}\r\n      {googleError && <span>{googleError}</span>}\r\n      {apiError && <span>Api Error</span>}\r\n      {!user ? (\r\n        <GoogleLogin\r\n          clientId={constants.GOOGLE_CLIENT_ID}\r\n          buttonText=\"Login\"\r\n          onSuccess={handleGoogleLoginSuccess}\r\n          onFailure={handleGoogleLoginFailure}\r\n          cookiePolicy=\"single_host_origin\"\r\n        />\r\n      ) : (\r\n        <GoogleLogout\r\n          clientId={constants.GOOGLE_CLIENT_ID}\r\n          buttonText=\"Logout\"\r\n          onLogoutSuccess={handleGoogleLogoutSuccess}\r\n          onFailure={handleGoogleLogoutFailure}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport ProductPage from '../product-page/ProductPage';\r\nimport CheckoutPage from '../checkout-page/CheckoutPage';\r\nimport ConfirmationPage from '../confirmation-page/ConfirmationPage';\r\nimport Header from '../header/Header';\r\n\r\n/**\r\n * @name App\r\n * @returns component\r\n */\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <Header />\r\n    <Switch>\r\n      <Route exact path=\"/\" render={() => <ProductPage />} />\r\n      <Route exact path=\"/checkout\" render={() => <CheckoutPage />} />\r\n      <Route exact path=\"/confirmation\" render={() => <ConfirmationPage />} />\r\n    </Switch>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/app/App';\r\nimport { CartProvider } from './components/checkout-page/CartContext';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CartProvider>\r\n      <App />\r\n    </CartProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}